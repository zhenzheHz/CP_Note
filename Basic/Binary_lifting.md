# 第九章、倍增法 (Binary Lifting)

---

## 簡介

倍增法，顧名思義就是「成倍增長」。

在進行遞推時，如果**狀態空間很大**，通常的線性遞推可能無法滿足時間或空間複雜度的要求。這時，我們可以使用倍增法：只在狀態空間中 **[k] 的整數次幂位置** 保存值，作為代表。

當需要其他位置的值時，可以利用「任意整數都可以表示成若干個 [k] 的次幂之和」這個性質，將之前保存的代表值拼湊成所需的值。  
因此，使用倍增法的前提是**遞推問題的狀態空間對 [k] 的次幂具有可劃分性**。

> 通常情況下，我們會取 $k = 2$

倍增法在很多算法中都有應用，其中最常見的包括：RMQ（區間最值查詢）、LCA（最近公共祖先）

這種方法可以大幅降低遞推的時間複雜度，將線性操作轉換為對數級操作，非常適合處理大規模問題。

---

## 二進制的概念

每個十進制數字 $x$ 都對應一個二進位表示法，記為 $(x)_{2}$

例如： $6 = (110)_2$

> ### 問題思考
>
> 如何在使用最少法碼數量的情況下秤量出 $[0,31]$ 間的所有重量（只有一邊能放砝碼）

答案是用 $\{1,2,4,8,16\}$ 這五個砝碼，因為 

$$31 = (11111)_2$$

而小於 $31$ 的數字，我們只需要去考慮對應 $31$ 二進制中的五個位置是否是 $1$

而這五個 $1$ 對應的數字分別就是 $2^0,2^1,2^2,2^3,2^4$

> 任何一個非負整數皆能寫成 $k$ 個相異正整數的 $2$ 的冪次和（也就是二進制的概念

因此我們可以壓縮狀態，藉由考慮 $2^k$ 的狀況代替考慮 $k$ 的狀況

同理，要量出 $[0,127]$ 的所有重量就是用 $1,2,4,8,16,32,64$ 這七個

